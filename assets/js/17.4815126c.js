(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{596:function(s,t,a){s.exports=a.p+"assets/img/1579789440638.a70de950.png"},597:function(s,t,a){s.exports=a.p+"assets/img/1579790430419.379b277c.png"},598:function(s,t,a){s.exports=a.p+"assets/img/1579790770860.360a63c8.png"},599:function(s,t,a){s.exports=a.p+"assets/img/1579791106327.dd6658f2.png"},600:function(s,t,a){s.exports=a.p+"assets/img/1579791284408.b5666f2e.png"},952:function(s,t,a){"use strict";a.r(t);var e=a(21),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"_1-1-扩展硬盘空间实验说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-扩展硬盘空间实验说明"}},[s._v("#")]),s._v(" 1.1 扩展硬盘空间实验说明")]),s._v(" "),e("blockquote",[e("h4",{attrs:{id:"_1-实验说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-实验说明"}},[s._v("#")]),s._v(" 1.实验说明")])]),s._v(" "),e("ul",[e("li",[s._v("在工作中linux服务器经常会磁盘空间不足，需要添加新的硬盘")]),s._v(" "),e("li",[s._v("下面以VMware添加60G硬盘到我们的linux服务器，并格式化，挂载使用全过程")])]),s._v(" "),e("blockquote",[e("h4",{attrs:{id:"_2-实验步骤说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-实验步骤说明"}},[s._v("#")]),s._v(" 2.实验步骤说明")])]),s._v(" "),e("ul",[e("li",[s._v("第一步：添加一块 60G 的硬盘(真实服务器就是买一块硬盘，插入插槽即可)")]),s._v(" "),e("li",[s._v("第二步：创建分区")]),s._v(" "),e("li",[s._v("第三步：格式化磁盘")]),s._v(" "),e("li",[s._v("第四步：创建物理卷")]),s._v(" "),e("li",[s._v("第五步：卷组扩容")])]),s._v(" "),e("p",[s._v("**参考博客：**https://www.cnblogs.com/xiaonq/p/10015249.html")]),s._v(" "),e("h2",{attrs:{id:"_1-2-添加一块硬盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-添加一块硬盘"}},[s._v("#")]),s._v(" 1.2 添加一块硬盘")]),s._v(" "),e("blockquote",[e("h4",{attrs:{id:"_1-先给vmware添加一块60g硬盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-先给vmware添加一块60g硬盘"}},[s._v("#")]),s._v(" 1.先给VMware添加一块60G硬盘")])]),s._v(" "),e("p",[e("img",{staticStyle:{width:"600px","margin-left":"50px"},attrs:{src:a(596)}})]),s._v(" "),e("blockquote",[e("h4",{attrs:{id:"_2-必须重启虚拟机才能识别到新加磁盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-必须重启虚拟机才能识别到新加磁盘"}},[s._v("#")]),s._v(" 2.必须重启虚拟机才能识别到新加磁盘")])]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fdisk -l              # 查看硬盘信息和分区情况(下面这个sdb就是上面添加的硬盘)")]),s._v("\n磁盘 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sdb："),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("64.4")]),s._v(" GB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("64424509440")]),s._v(" 字节，"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("125829120")]),s._v(" 个扇区\nUnits "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 扇区 of "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bytes")]),s._v("\n扇区大小"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("逻辑"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("物理"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("："),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" 字节 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" 字节\nI"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("O 大小"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("最小"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("最佳"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("："),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" 字节 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" 字节\n\nsda（第一块盘）： sda1标识第一块盘中第一个分区\nsdb（第二块盘）\nsdc（第三开盘）\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("blockquote",[e("h4",{attrs:{id:"_3-查看当前磁盘使用情况"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-查看当前磁盘使用情况"}},[s._v("#")]),s._v(" 3.查看当前磁盘使用情况")])]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@redis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# df -hl           # 查看当前分区使用情况")]),s._v("\n文件系统              容量   已用   可用   已用"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("  挂载点\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mapper"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cl"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("root   13G    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.")]),s._v("9G   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("8G    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("79")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\ndevtmpfs              "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("8G     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("8G    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v("     "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dev\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"_1-3-格式化刚刚新加硬盘-dev-sdb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-格式化刚刚新加硬盘-dev-sdb"}},[s._v("#")]),s._v(" 1.3 格式化刚刚新加硬盘 /dev/sdb")]),s._v(" "),e("blockquote",[e("h4",{attrs:{id:"_1-创建分区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建分区"}},[s._v("#")]),s._v(" 1.创建分区")])]),s._v(" "),e("p",[e("img",{staticStyle:{width:"780px","margin-left":"10px"},attrs:{src:a(597)}})]),s._v(" "),e("blockquote",[e("h4",{attrs:{id:"_2-格式化分区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-格式化分区"}},[s._v("#")]),s._v(" 2.格式化分区")])]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@redis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mkfs.ext3 /dev/sdb1      # 将分区格式化为ext3类型")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_1-4-创建lvm扩展根分区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-创建lvm扩展根分区"}},[s._v("#")]),s._v(" 1.4 创建LVM扩展根分区")]),s._v(" "),e("blockquote",[e("h4",{attrs:{id:"_1-创建物理卷"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建物理卷"}},[s._v("#")]),s._v(" 1."),e("strong",[s._v("创建物理卷")])])]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@redis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pvcreate /dev/sdb1      # 用刚刚添加硬盘，创建物理卷")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("h4",{attrs:{id:"_2-查看创建的物理卷的详细信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-查看创建的物理卷的详细信息"}},[s._v("#")]),s._v(" 2.查看创建的物理卷的详细信息")])]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@redis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pvscan             # 查看当前所有物理卷")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@redis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pvdisplay          # 查看创建的物理卷的详细信息（我们需要获取现有根分区使用的卷组名称，这里是 “cl”）")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("img",{staticStyle:{width:"500px","margin-left":"50px"},attrs:{src:a(598)}})]),s._v(" "),e("blockquote",[e("h4",{attrs:{id:"_3-卷组扩容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-卷组扩容"}},[s._v("#")]),s._v(" 3.卷组扩容")])]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@redis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  vgextend cl /dev/sdb1       # 对 cl 卷组扩容 ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@redis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  lvextend -L +60G /dev/mapper/cl-root  ")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("img",{staticStyle:{width:"500px","margin-left":"50px"},attrs:{src:a(599)}})]),s._v(" "),e("blockquote",[e("h4",{attrs:{id:"_4-xfs用以下命令来扩磁盘空间"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-xfs用以下命令来扩磁盘空间"}},[s._v("#")]),s._v(" 4.xfs用以下命令来扩磁盘空间")])]),s._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@redis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  xfs_growfs /dev/mapper/cl-root           # 扩展磁盘空间")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@redis "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  df -hl                                   # 可以看到根分区已经扩展")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("img",{staticStyle:{width:"400px","margin-left":"50px"},attrs:{src:a(600)}})])])}),[],!1,null,null,null);t.default=r.exports}}]);