(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{895:function(s,t,a){"use strict";a.r(t);var n=a(21),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_1-docker基本使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-docker基本使用"}},[s._v("#")]),s._v(" 1.docker基本使用")]),s._v(" "),a("h3",{attrs:{id:"_1-1-镜像常用管理命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-镜像常用管理命令"}},[s._v("#")]),s._v(" 1.1 镜像常用管理命令")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node4 diff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker help                           # 查看docker帮助")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node4 diff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker image --help                   # 查看 docker中 镜像相关帮助")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node4 diff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker image ls                       # 查看当前所有镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node4 diff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker image inspect nginx            # 查看指定镜像（nginx镜像）详细信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node4 diff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker pull nginx:1.14                # 下载指定版本镜像 nginx")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node4 diff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker image rm nginx:1.14            # 删除nginx 1.14版本")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"_1-2-docker创建容器常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-docker创建容器常用命令"}},[s._v("#")]),s._v(" 1.2 docker创建容器常用命令")]),s._v(" "),a("ul",[a("li",[s._v("docker run 基本使用")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("root@dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -itd nginx")]),s._v("\nroot@dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nroot@dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rm -f e182a69f841d")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("docker run常用参数")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后台运行容器，并返回容器ID；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以交互模式运行容器，通常与 -t 同时使用；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为容器重新分配一个伪输入终端，通常与 -i 同时使用；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("P   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 随机端口映射，容器内部端口随机映射到主机的高端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定端口映射，格式为：主机(宿主)端口:容器端口")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"nginx-lb"')]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为容器指定一个名称；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dns "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".8")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".8")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定容器使用的DNS服务器，默认和宿主一致；")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("docker使用")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node4 diff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker container run -d --name web3 -e test=123456 -p 8800:80 -h webhostname --restart always nginx")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后台启动nginx容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("name web3          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 自定义容器名字(默认会是一段随机字符串)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("e test"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动容器添加变量 test=123456 (echo $test)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8800")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 宿主机的8800端口映射到docker容器的80端口中")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("h webhostname       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker容器主机名 (a300f394af88)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("restart always     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 宿主机重启自动拉起这个docker容器")]),s._v("\nnginx                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用这个nginx镜像启动容器")]),s._v("\n注：http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".56")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8800")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("     访问这个docker  nginx\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node4 diff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker logs web                                 # 查看上面启动的web容器的日志")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("node4 diff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker exec -it web bash                        # 进入容器web")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);