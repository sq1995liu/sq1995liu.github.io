(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{447:function(s,t,a){s.exports=a.p+"assets/img/image-20200925112025607.bc2897fc.png"},448:function(s,t,a){s.exports=a.p+"assets/img/image-20201026153155814.5e3d43ff.png"},449:function(s,t,a){s.exports=a.p+"assets/img/image-20201026153355278.2a5009a1.png"},450:function(s,t,a){s.exports=a.p+"assets/img/image-20201026153527196.acc40888.png"},451:function(s,t,a){s.exports=a.p+"assets/img/image-20201026185113022.9b1340d1.png"},822:function(s,t,a){"use strict";a.r(t);var n=a(21),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"_01-初始化项目结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_01-初始化项目结构"}},[s._v("#")]),s._v(" 01.初始化项目结构")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("└─shiyanlou_project          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目根路径")]),s._v("\n    │  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gitignore             "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交git仓库时，不提交的文件必须要在这里进行标注")]),s._v("\n    │  README"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("en"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md           "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 英文（项目介绍）")]),s._v("\n    │  README"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 中文项目简介")]),s._v("\n    │  requirements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# django项目安装文件")]),s._v("\n    │\n    ├─celery_task            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用来存放celery相关文件（以便分布式部署）")]),s._v("\n    │      __init__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n    │\n    ├─db                     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据库相关：1.数据库初始化sql脚本； 2.数据库维护脚本，清理，备份脚本")]),s._v("\n    ├─scrips                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 脚本目录：1.定时任务脚本；2.页面静态化脚本；处理项目脚本")]),s._v("\n    ├─logs                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 存放日志")]),s._v("\n    ├─packages               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 外部包，原始的，未配置的：1.七牛云sdk；2.阿里云短信；")]),s._v("\n    └─uwsgi_conf             "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uwsgi配置，日志，pid")]),s._v("\n    │\n    │\n    └─syl                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 真正的django项目（代码）django-admin startproject   项目名")]),s._v("\n        │  apps （python包）                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Django各种app模块 ")]),s._v("\n        │  libs （python包）                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 七牛云sdk+配置（外部下载）")]),s._v("\n        │  utils （python包）                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 小工具，常用函数(自己写的)")]),s._v("\n        │  static                 \n        │  templates\n        │  syl（项目配置）\n        │  manager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("p",[n("img",{staticStyle:{width:"400px","margin-left":"50px"},attrs:{src:a(447)}})]),s._v(" "),n("h2",{attrs:{id:"_02-创建django项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_02-创建django项目"}},[s._v("#")]),s._v(" 02.创建Django项目")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("root@dev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("shiyanlou_project"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# workon syl")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("syl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" root@dev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("shiyanlou_project"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /aaa/shiyanlou_project/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("syl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" root@dev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("shiyanlou_project"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# django-admin startproject syl")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注：创建三个python包， apps、utils、libs")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("ul",[n("li",[n("p",[s._v("使用pycharm打开项目")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("1.右击----\x3e编辑配置-----\x3e")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("   PYTHONUNBUFFERED               1 \n   DJANGO_SETTINGS_MODULE         syl.settings\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("img",{staticStyle:{width:"800px","margin-left":"0px"},attrs:{src:a(448)}})])])])]),s._v(" "),n("li",[n("p",[s._v("2.文件----\x3e设置-----\x3e")]),s._v(" "),n("ul",[n("li",[n("img",{staticStyle:{width:"800px","margin-left":"00px"},attrs:{src:a(449)}})])])]),s._v(" "),n("li",[n("p",[s._v("3.文件----\x3e设置-----\x3e")]),s._v(" "),n("ul",[n("li",[n("img",{staticStyle:{width:"800px","margin-left":"0px"},attrs:{src:a(450)}})])])])])])]),s._v(" "),n("h2",{attrs:{id:"_03-创建user模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_03-创建user模型"}},[s._v("#")]),s._v(" 03.创建user模型")]),s._v(" "),n("h3",{attrs:{id:"_3-1-创建用户模型user"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-创建用户模型user"}},[s._v("#")]),s._v(" 3.1 创建用户模型user")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("python "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("manage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py startapp user  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建user模型")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_3-2-在setting-py中注册user模型（第一步）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-在setting-py中注册user模型（第一步）"}},[s._v("#")]),s._v(" 3.2 在setting.py中注册user模型（第一步）")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("INSTALLED_APPS "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user.apps.UserConfig'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注：pycharm无法联想，需要把apps文件夹设置为源根")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("ul",[n("li",[s._v("要想让pycharm识别要这样操作\n"),n("ul",[n("li",[n("img",{staticStyle:{width:"600px","margin-left":"50px"},attrs:{src:a(451)}})])])])]),s._v(" "),n("h3",{attrs:{id:"_3-3-syl-urls-py添加主路由（第二步）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-syl-urls-py添加主路由（第二步）"}},[s._v("#")]),s._v(" 3.3 syl/urls.py添加主路由（第二步）")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("urlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" include"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user.urls'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"_3-5-syl-settings-py中添加apps路径"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-syl-settings-py中添加apps路径"}},[s._v("#")]),s._v(" 3.5 syl/settings.py中添加apps路径")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把apps目录插入，到系统包搜索路径第一个位置中")]),s._v("\nsys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("insert"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BASE_DIR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'apps'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_3-4-创建-user-urls-py子路由文件（第三步）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-创建-user-urls-py子路由文件（第三步）"}},[s._v("#")]),s._v(" 3.4 创建 user/urls.py子路由文件（第三步）")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("urls "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" path\n\nurlpatterns "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h2",{attrs:{id:"_04-重写django默认认证用户模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_04-重写django默认认证用户模型"}},[s._v("#")]),s._v(" 04.重写Django默认认证用户模型")]),s._v(" "),n("h3",{attrs:{id:"_4-1-重写django-user表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-重写django-user表"}},[s._v("#")]),s._v(" 4.1 重写django user表")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("db "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" models\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contrib"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("auth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("models "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" AbstractUser\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Create your models here.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AbstractUser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    phone "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'手机号'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    img "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ImageField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("upload_to"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("null"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    nick_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'昵称'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    address "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CharField"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'地址'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("max_length"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Meta")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        db_table "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tb_user'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"_4-2-syl-settings-py中注册"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-syl-settings-py中注册"}},[s._v("#")]),s._v(" 4.2 syl/settings.py中注册")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注册自己的用户模型类: 应用名.模型名，指定我们重写的User表进行身份验证")]),s._v("\nAUTH_USER_MODEL "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'user.User'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_4-3-配置mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-配置mysql"}},[s._v("#")]),s._v(" 4.3 配置mysql")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v("'''1.创建mysql数据库'''")]),s._v("\nmysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" create database syldatabase charset utf8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v("'''2.在syl/settings.py中配置mysql'''")]),s._v("\nDATABASES "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'default'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ENGINE'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.db.backends.mysql'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NAME'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'syldatabase'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定数据库名称：syldatabase")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USER'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PASSWORD'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'HOST'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'127.0.0.1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'PORT'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3306'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h3",{attrs:{id:"_4-4生成表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-4生成表"}},[s._v("#")]),s._v(" 4.4生成表")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("python manage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py makemigrations\npython manage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py migrate\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"_05-python中的三种路径"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_05-python中的三种路径"}},[s._v("#")]),s._v(" 05.python中的三种路径")]),s._v(" "),n("h3",{attrs:{id:"_5-1-操作系统绝对路径（第一种）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-操作系统绝对路径（第一种）"}},[s._v("#")]),s._v(" 5.1 操作系统绝对路径（第一种）")]),s._v(" "),n("ul",[n("li",[s._v("django 静态文件查找, 模板查找（第一种）")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 去配置好的 文件夹 中查找指定的文件")]),s._v("\nBASE_DIR "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("abspath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__file__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nSTATIC_URL "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/static/'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /teach/shiyanlou_project/syl/apps/user/   # linux")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# E:\\_000\\XSX")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_5-2-django-导包路径（第二种）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-django-导包路径（第二种）"}},[s._v("#")]),s._v(" 5.2 django 导包路径（第二种）")]),s._v(" "),n("ul",[n("li",[s._v("第一："),n("code",[s._v("当期文件夹")])]),s._v(" "),n("li",[s._v("第二："),n("code",[s._v("sys.path")])])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("导包之前"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 包的上级路径"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 需要存在于 python system 的 path\nsys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path  这是一个列表\n​```\nsys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("insert"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" os"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("join"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BASE_DIR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'apps'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n​```\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" xxx "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" yyy  才能成功\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_5-3-django模型引用（第三种）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-django模型引用（第三种）"}},[s._v("#")]),s._v(" 5.3 django模型引用（第三种）")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("想使用 一个 models"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py 文件中的模型\napps名称"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("model模型名\n"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'users.User'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);